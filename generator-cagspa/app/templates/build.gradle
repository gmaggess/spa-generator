import org.apache.tools.ant.taskdefs.condition.Os
import org.gradle.api.tasks.Exec

class GruntTask extends Exec {
    private String gruntExecutable = Os.isFamily(Os.FAMILY_WINDOWS) ? "grunt.cmd" : "grunt"
    private String switches = "--no-color"
 
    String gruntArgs = "" 
 
    public GruntTask() {
        super()
        this.setExecutable(gruntExecutable)
    }
 
    public void setGruntArgs(String gruntArgs) {
        this.args = "$switches $gruntArgs".trim().split(" ") as List
    }
}

task jsBuild(type: GruntTask) {
    description = 'Invokes the following tasks from Grunt: clean, uglify, sass, mincss, imagemin, and copy.'
    gruntArgs = "build"
}
 
task jsAll(type: GruntTask) {
    description = 'Invokes the following tasks from Grunt: clean, uglify, sass, mincss, imagemin, copy, and jshint.'
    gruntArgs = "default"
}